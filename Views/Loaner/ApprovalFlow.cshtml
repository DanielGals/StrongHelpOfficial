@model LoanApplicationDetailsViewModel
@{
    ViewData["Title"] = "Approval Flow";
    ViewBag.IdParamName = "loanId";
    ViewBag.LoanID = Model.LoanID;
    ViewBag.Status = Model.ApplicationStatus;
    ViewBag.TabArea = "";
}

@section Styles {
    <link rel="stylesheet" href="~/css/LoanApplicationDetails.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/MyApplication.css" asp-append-version="true" />
    <link rel="stylesheet" href="~/css/LoanerApprovalFlow.css" asp-append-version="true" />
}

<div class="d-flex flex-column flex-md-row justify-content-between align-items-start align-items-md-center mb-4">
    <div>
        <h2 class="fw-bold mb-1">Approval Flow</h2>
        <div class="text-muted mb-2" style="font-size:1em;">Current Status and details of your application</div>
    </div>
</div>

@{
    ViewBag.LoanID = Model.LoanID;
    ViewBag.Status = Model.ApplicationStatus;
}
@await Html.PartialAsync("_LoanApplicationTabs")

<div class="row">
    <div class="col-12">
        <!-- Approval Status Section -->
        <div class="form-section">
            <div class="fw-bold mb-3" style="font-size: 1.2em;">Application Approval Sequence</div>

            <!-- Approval Cards Container -->
            <div id="approvalCardsContainer">
                <!-- Approval cards will be loaded here -->
            </div>
        </div>
    </div>
</div>

<input type="hidden" id="loanIdField" value="@Model.LoanID" />

@section Scripts {
    <script src="~/lib/bootstrap/dist/js/bootstrap.bundle.min.js"></script>
    <script src="~/js/LoanerApprovalFlow.js" asp-append-version="true"></script>
}
