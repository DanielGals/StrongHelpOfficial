@model ApproverApplicationDetailsViewModel

<!-- Application Decision -->
@if (Model.ApplicationStatus == "In Review" && !Model.CurrentUserHasApproved)
{
    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <h3 class="card-title">Application Decision</h3>
            <div class="subtitle-green">Review and make a decision on this application</div>
            <div class="alert-yellow">
                <span class="icon">
                    <img src="~/images/warning-icon.svg" width="1.5em" height="1.5em" class="svg-warning-yellow"
                        alt="Warning" />
                </span>
                <span>
                    <strong>Attention:</strong> Please complete the validation checklist before approving the application.
                </span>
            </div>
            <div class="action-buttons">
                <button id="approveApplicationBtn" type="button" class="btn btn-success btn-burger" disabled>Approve
                    Application</button>
                <button id="rejectApplicationBtn" type="button" class="btn btn-outline-danger btn-burger">Reject
                    Application</button>
                <div id="rejectCommentContainer" class="mt-3" style="display:none;">
                    <textarea id="rejectCommentBox" class="form-control mb-2" rows="3" style="resize: none;"
                    placeholder="Enter reason for rejection"></textarea>
                    <button id="confirmRejectBtn" type="button" class="btn btn-danger">Confirm Reject</button>
                </div>
            </div>
        </div>
    </div>
    <div class="card shadow-sm mb-4">
        <div class="card-body">
            <h3 class="card-title d-flex justify-content-between align-items-center">
                Validation Checklist
            </h3>
            <div id="checklistItemsContainer" class="mt-3"></div>
            <button id="addItemBtn" type="button" class="btn btn-success d-flex align-items-center mt-3 ms-auto"
                style="gap:0.5rem;">
                <span class="d-flex align-items-center justify-content-center" style="width:1.8em; height:1.8em; font-size: 1.2em; font-weight: bold;">
                    +
                </span>
                <span>Add Item</span>
            </button>
        </div>
    </div>
}
<!-- Validation checklist card -->


<!-- Modal for adding checklist item -->
<div class="modal fade" id="addChecklistItemModal" tabindex="-1" aria-labelledby="addChecklistItemModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="addChecklistItemModalLabel">Add Checklist Item</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                <input type="text" id="conditionTextInput" class="form-control" placeholder="Enter checklist item" />
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-success" id="confirmAddChecklistBtn">Add</button>
            </div>
        </div>
    </div>
</div>

<!-- Modal for reject confirmation -->
<div class="modal fade" id="rejectConfirmModal" tabindex="-1" aria-labelledby="rejectConfirmModalLabel"
    aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h5 class="modal-title" id="rejectConfirmModalLabel">Confirm Rejection</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <div class="modal-body">
                Are you sure you want to reject this application?<br />
                <strong>Comment:</strong>
                <div id="rejectCommentPreview" class="border rounded p-2 mt-2 bg-light"></div>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger" id="finalRejectBtn">Yes, Reject</button>
            </div>
        </div>
    </div>
</div>